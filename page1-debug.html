<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basketball Statistics - Conference Stats (DEBUG)</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .debug-info {
      background: #f0f0f0;
      border: 2px solid #ccc;
      padding: 15px;
      margin: 10px 0;
      font-family: monospace;
    }
    .debug-info h3 {
      margin-top: 0;
      color: #333;
    }
    .error { color: red; }
    .success { color: green; }
  </style>
</head>
<body>
  <nav class="main-nav">
    <div class="nav-container">
      <div class="logo">Basketball Stats</div>
      
      <!-- Hamburger Menu Toggle (only appears on mobile) -->
      <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
      
      <!-- Navigation Links -->
      <ul class="nav-links" id="navMenu">
        <!-- Close button placed separately at the top of the menu -->
        <div class="menu-close" id="menuClose"></div>
        
        <li><a href="index.html">Home</a></li>
        <li><a href="page1.html">Conference Stats</a></li>
        <li><a href="page2.html">Team Rankings</a></li>
        <li><a href="page3.html">Offensive Stats</a></li>
        <li><a href="page4.html">Defensive Stats</a></li>
        <li><a href="page5.html">Player Stats</a></li>
        <li><a href="page6.html">Season Records</a></li>
        <li><a href="page7.html">Historical Data</a></li>
        <li><a href="page8.html">Tournament Results</a></li>
        <li><a href="page9.html">Coach Records</a></li>
        <li><a href="page10.html">Team Trends</a></li>
        <li><a href="page11.html">About</a></li>
      </ul>
    </div>
    
    <!-- Overlay for mobile -->
    <div class="nav-overlay" id="navOverlay"></div>
  </nav>

  <main>
    <header>
      <h1>Conference Statistics (DEBUG VERSION)</h1>
      <p>Detailed breakdown of statistics across different conferences.</p>
    </header>

    <div class="debug-info">
      <h3>üîç DEBUG INFO</h3>
      <div id="debugResults">Loading debug info...</div>
    </div>

    <section class="table-section">
      <h2>Conference Performance Metrics</h2>
      
      <!-- Search and Filter Controls -->
      <div class="table-controls">
        <div class="search-container">
          <input type="text" id="teamSearch" placeholder="Search for conference..." class="search-input">
        </div>
        <div class="filter-container">
          <select id="conferenceFilter" class="filter-select">
            <option value="">All Conferences</option>
          </select>
        </div>
      </div>
      
      <div class="table-container">
        <table class="stats-table" id="statsTable">
          <thead>
            <tr>
              <th>Conference</th>
              <th>Teams</th>
              <th>Avg Rating</th>
              <th>Top Team</th>
              <th>Win %</th>
            </tr>
          </thead>
          <tbody id="tableBody">
            <!-- Data will be populated by script -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Basketball Statistics. All rights reserved.</p>
  </footer>

  <script>
    // Embedded data and config for debugging
    const embeddedData = [
      {
        "conference": "LAND",
        "teams": 8,
        "avgRating": 14.2,
        "topTeam": "Scranton",
        "winPct": "68.5%"
      },
      {
        "conference": "MACC",
        "teams": 7,
        "avgRating": 10.8,
        "topTeam": "Messiah",
        "winPct": "62.3%"
      },
      {
        "conference": "MACF",
        "teams": 7,
        "avgRating": 3.9,
        "topTeam": "Lebanon Val",
        "winPct": "54.8%"
      }
    ];

    const columnMappings = {
      "Conference": "conference",
      "Teams": "teams",
      "Avg Rating": "avgRating",
      "Top Team": "topTeam",
      "Win %": "winPct"
    };

    function debugMapping() {
      const debugDiv = document.getElementById('debugResults');
      const headers = ["Conference", "Teams", "Avg Rating", "Top Team", "Win %"];
      const sampleRow = embeddedData[0];
      
      let debugOutput = `
        <p><strong>Sample Data:</strong></p>
        <pre>${JSON.stringify(sampleRow, null, 2)}</pre>
        
        <p><strong>Column Mappings:</strong></p>
        <pre>${JSON.stringify(columnMappings, null, 2)}</pre>
        
        <p><strong>Mapping Test Results:</strong></p>
        <table border="1" cellpadding="5">
          <tr><th>Header</th><th>Maps To</th><th>Value Found</th><th>Status</th></tr>
      `;

      headers.forEach(header => {
        const mappedKey = columnMappings[header];
        const value = sampleRow[mappedKey];
        const status = value !== undefined ? 
          '<span class="success">‚úì SUCCESS</span>' : 
          '<span class="error">‚úó FAILED</span>';
        
        debugOutput += `
          <tr>
            <td>${header}</td>
            <td>${mappedKey}</td>
            <td>${value}</td>
            <td>${status}</td>
          </tr>
        `;
      });

      debugOutput += '</table>';
      debugDiv.innerHTML = debugOutput;
    }

    function populateTable() {
      const tbody = document.getElementById('tableBody');
      const headers = ["Conference", "Teams", "Avg Rating", "Top Team", "Win %"];
      
      tbody.innerHTML = '';
      
      embeddedData.forEach(row => {
        const tr = document.createElement('tr');
        
        headers.forEach(header => {
          const td = document.createElement('td');
          const mappedKey = columnMappings[header];
          const value = row[mappedKey];
          td.textContent = value || 'MISSING';
          tr.appendChild(td);
        });
        
        tbody.appendChild(tr);
      });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      debugMapping();
      populateTable();
    });
  </script>
</body>
</html>